"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[4761],{94373:(T,_,o)=>{o.d(_,{n:()=>h});var d=o(47637),e=o(65879),g=o(96814),m=o(29522),x=o(30617);const u=["*"];let a=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(v){return new(v||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["vex-breadcrumb"]],hostAttrs:[1,"vex-breadcrumb","body-2","text-hint","leading-none","hover:text-primary","no-underline","trans-ease-out","ltr:mr-2","rtl:ml-2"],ngContentSelectors:u,decls:1,vars:0,template:function(v,y){1&v&&(e.F$t(),e.Hsn(0))},encapsulation:2})}return i})();const p=function(){return[]};function l(i,M){if(1&i&&(e.ynx(0),e._UZ(1,"div",4),e.TgZ(2,"vex-breadcrumb")(3,"a",1),e._uU(4),e.qZA()(),e.BQk()),2&i){const C=M.$implicit;e.xp6(3),e.Q6J("routerLink",e.DdM(2,p)),e.xp6(1),e.Oqu(C)}}const t=function(){return["/"]};let h=(()=>{class i{constructor(){this.crumbs=[],this.trackByValue=d.g6}ngOnInit(){}static#t=this.\u0275fac=function(v){return new(v||i)};static#o=this.\u0275cmp=e.Xpm({type:i,selectors:[["vex-breadcrumbs"]],inputs:{crumbs:"crumbs"},decls:5,vars:4,consts:[[1,"flex","items-center"],[3,"routerLink"],["svgIcon","mat:home",1,"icon-sm"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-1","h-1","bg-gray","rounded-full","ltr:mr-2","rtl:ml-2"]],template:function(v,y){1&v&&(e.TgZ(0,"div",0)(1,"vex-breadcrumb")(2,"a",1),e._UZ(3,"mat-icon",2),e.qZA()(),e.YNc(4,l,5,3,"ng-container",3),e.qZA()),2&v&&(e.xp6(2),e.Q6J("routerLink",e.DdM(3,t)),e.xp6(2),e.Q6J("ngForOf",y.crumbs)("ngForTrackBy",y.trackByValue))},dependencies:[g.sg,m.rH,x.Hw,a],encapsulation:2})}return i})()},20021:(T,_,o)=>{o.d(_,{J:()=>x});var d=o(96814),e=o(29522),g=o(30617),m=o(65879);let x=(()=>{class u{static#t=this.\u0275fac=function(l){return new(l||u)};static#o=this.\u0275mod=m.oAB({type:u});static#e=this.\u0275inj=m.cJS({imports:[d.ez,e.Bz,g.Ps]})}return u})()},85001:(T,_,o)=>{o.d(_,{n:()=>p});var d=o(37398),e=o(65879),g=o(52501),m=o(96814);function x(l,t){if(1&l&&(e.TgZ(0,"h1",4),e._uU(1),e.qZA()),2&l){const h=e.oxw();e.xp6(1),e.Oqu(h.current)}}const u=function(l,t){return{fixed:l,"w-full":t}},a=["*"];let p=(()=>{class l{constructor(h){this.configService=h,this.fixed$=this.configService.config$.pipe((0,d.U)(i=>i.toolbar.fixed)),this.isVerticalLayout$=this.configService.select(i=>i.layout).pipe((0,d.U)(i=>"vertical"===i))}static#t=this.\u0275fac=function(i){return new(i||l)(e.Y36(g.E))};static#o=this.\u0275cmp=e.Xpm({type:l,selectors:[["vex-secondary-toolbar"]],inputs:{current:"current",crumbs:"crumbs"},ngContentSelectors:a,decls:9,vars:13,consts:[[1,"secondary-toolbar-placeholder"],[1,"secondary-toolbar","shadow-b","py-1","z-40","border-t","flex",3,"ngClass"],[1,"px-gutter","flex","items-center","flex-auto"],["class","subheading-2 font-medium m-0 ltr:pr-3 rtl:pl-3 ltr:border-r rtl:border-l ltr:mr-3 rtl:ml-3 flex-none",4,"ngIf"],[1,"subheading-2","font-medium","m-0","ltr:pr-3","rtl:pl-3","ltr:border-r","rtl:border-l","ltr:mr-3","rtl:ml-3","flex-none"]],template:function(i,M){1&i&&(e.F$t(),e.TgZ(0,"div",0),e._uU(1,"\xa0"),e.qZA(),e.TgZ(2,"div",1),e.ALo(3,"async"),e.ALo(4,"async"),e.TgZ(5,"div",2),e.ALo(6,"async"),e.YNc(7,x,2,1,"h1",3),e.Hsn(8),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngClass",e.WLB(10,u,e.lcZ(3,4,M.fixed$),!e.lcZ(4,6,M.fixed$))),e.xp6(3),e.ekj("container",e.lcZ(6,8,M.isVerticalLayout$)),e.xp6(2),e.Q6J("ngIf",M.current))},dependencies:[m.mk,m.O5,m.Ov],styles:[".secondary-toolbar[_ngcontent-%COMP%]{background:var(--secondary-toolbar-background);height:var(--secondary-toolbar-height);margin-top:calc(var(--secondary-toolbar-height) * -1)}.secondary-toolbar.fixed[_ngcontent-%COMP%]{width:var(--toolbar-width)}.secondary-toolbar-placeholder[_ngcontent-%COMP%]{height:var(--secondary-toolbar-height)}  .is-mobile .fixed{width:100%}  body .fixed{width:calc(100% - var(--sidenav-width))}  vex-breadcrumbs{display:none}@media (min-width: 600px){  vex-breadcrumbs{display:block}}"]})}return l})()},13680:(T,_,o)=>{o.d(_,{K:()=>a});var d=o(96814),e=o(29522),g=o(32296),m=o(30617),x=o(20021),u=o(65879);let a=(()=>{class p{static#t=this.\u0275fac=function(h){return new(h||p)};static#o=this.\u0275mod=u.oAB({type:p});static#e=this.\u0275inj=u.cJS({imports:[d.ez,e.Bz,g.ot,m.Ps,x.J]})}return p})()},54761:(T,_,o)=>{o.r(_),o.d(_,{FormActualizarUsuariosModule:()=>tt});var d=o(96814),e=o(22939),g=o(29522),m=o(33594),x=o(83951),u=o(86820),a=o(56223),p=o(96726),l=o(84005),t=o(65879),h=o(15896),i=o(71996),M=o(19347),C=o(69862),v=o(20553),y=o(58504),S=o(26306),L=o(80154);let J=(()=>{class s{constructor(r,n){this.http=r,this.tokenService=n,this._url=`${v.N.API_URL}/Cuentas/`,this.estado=1}setCuenta(r){const n=new C.WM({"Content-Type":"application/json"});return this.http.post(this._url+"SetDeposito",JSON.stringify(r),{headers:n}).pipe((0,S.K)(c=>(console.error(c),(0,y._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}putCuenta(r,n,c,f,b){const Z={c_Id_Marca:r,c_Nombre:n,c_Img_Base:c,c_Descripcion:f,c_Usuario_Modificacion:b},O=new C.WM({"Content-Type":"application/json"});return this.http.post(this._url+"PutMarca",JSON.stringify(Z),{headers:O}).pipe((0,S.K)(P=>(console.error(P),(0,y._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}CambiarEstadoCuenta(r,n,c){const f=new C.WM({"Content-Type":"application/json"});return this.http.post(`${this._url}CambiarEstadoMarca?IdMarca=${r}&IdUM=${n}&razon=${c}`,f)}getCuenta(r){return this.http.get(`${this._url}GetMarca`,{params:{searchTerm:r}})}getCuentaById(r){return this.http.get(`${this._url}GetCuentaById?IdCuenta=${r}`)}static#t=this.\u0275fac=function(n){return new(n||s)(t.LFG(C.eN),t.LFG(L.B))};static#o=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var F=o(24516),I=o(41043),B=o(30617),U=o(32296),D=o(82599),R=o(85001),k=o(94373);function N(s,ot){1&s&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es requerido."),t.qZA())}function Q(s,ot){1&s&&(t.TgZ(0,"mat-error"),t._uU(1,"Este campo es requerido."),t.qZA())}const $=function(){return["Forms","Form Elements"]},K=[{path:"",component:(()=>{class s{constructor(r,n,c,f,b,Z,O,P,E,A){this.cd=r,this.ngZone=n,this.fb=c,this.catalogoService=f,this.crearUsuariosService=b,this.router=Z,this.snackBar=O,this.cdr=P,this.dialog=E,this.ServicioService=A,this.departamentos=[],this.imagen="",this.Id_Usuario="",this.Id_Sucursal="",this.toggleChecked=!0,this.cuentaExists=!0,this.buttonText="Deposito",this.Texto="Registrar Factura",this.inputType="password",this.visible=!1,this.showConfirmDialog=!1,this.c_Tipo_Mov=1,this.Vmonto=!0,this.Vformulario=!1,this.btntext="Deposito",this.SaldoTotal=0,this.Monto=0,this.MontoMaximo=0,this.STotal=0,this.selectedImage=null,this.selectedImageURL="https://img.srvcentral.com/Sistema/ImagenPorDefecto/Registro.png",this.usuarioForm=this.fb.group({c_Id_Cuenta:["",a.kI.compose([a.kI.required,a.kI.pattern(/^[\d-]+$/),a.kI.minLength(4),a.kI.maxLength(25)])],c_Monto:["",a.kI.compose([a.kI.required,a.kI.pattern(/^[0-9]+(\.[0-9]{1,2})?$/),a.kI.maxLength(8)])],c_Nombre_Completo:["",a.kI.compose([a.kI.required,a.kI.minLength(1),a.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Nombre_Sucursal:["",a.kI.compose([a.kI.required,a.kI.minLength(1),a.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Url_Img:[""],c_Usuario_Creacion:[""],c_Usuario_Modificacion:[""],c_Fecha_Creacion:[""],c_Fecha_Modificacion:[""],c_Tipo_Cuenta:["",a.kI.required],c_Estado_Cuenta:["",a.kI.required],c_Saldo:[""],c_Monto_Maximo:[""]}),this.BuscarCuenta(),this.VerficarDeposito()}Transferencia(){this.body={c_Id_Cuenta:this.usuarioForm.get("c_Id_Cuenta").value,c_Monto:this.usuarioForm.get("c_Monto").value,c_Id_Tipo:this.c_Tipo_Mov,c_Usuario_Creacion:this.Id_Usuario,c_Usuario_Modificacion:this.Id_Usuario},this.ServicioService.setCuenta(this.body).subscribe(r=>{r.ok?(this.snackBar.open(r.transaccion_Mensaje,"Cerrar",{duration:5e3,panelClass:["success-snackbar"]}),this.BuscarCuenta()):this.snackBar.open(r.transaccion_Mensaje,"Cerrar",{duration:5e3,panelClass:["error-snackbar"]})})}VerficarDeposito(){this.usuarioForm.get("c_Monto").valueChanges.subscribe(r=>{if(null!=r){var n=this.usuarioForm.get("c_Monto_Maximo").value?.toString(),c=this.usuarioForm.get("c_Saldo").value?.toString();null!=n&&(this.Monto=parseFloat(r),this.MontoMaximo=parseFloat(n),this.SaldoTotal=parseFloat(c),this.STotal=this.SaldoTotal+this.Monto,console.log(this.STotal),console.log(this.MontoMaximo),console.log(this.Monto),this.STotal>=this.MontoMaximo&&1==this.c_Tipo_Mov?this.snackBar.open("El monto es mayor al monto maximo de la cuenta","Cerrar",{duration:5e3,panelClass:["error-snackbar"]}):this.Vformulario=!0)}})}BuscarCuenta(){this.usuarioForm.get("c_Id_Cuenta").valueChanges.subscribe(r=>{null!=r&&r.length>10?this.ServicioService.getCuentaById(r).subscribe(n=>{this.Vmonto=!0,33===n.response.c_Transaccion_Estado?(this.selectedImageURL="https://img.srvcentral.com/Sistema/ImagenPorDefecto/Registro.png",this.snackBar.open("La cuenta no existe","Cerrar",{duration:5e3,panelClass:["error-snackbar"]}),this.usuarioForm.patchValue({c_Nombre_Completo:"",c_Nombre_Sucursal:"",c_Url_Img:"",c_Usuario_Creacion:"",c_Usuario_Modificacion:"",c_Fecha_Creacion:"",c_Fecha_Modificacion:"",c_Tipo_Cuenta:"",c_Estado_Cuenta:"",c_Saldo:"",c_Monto_Maximo:""})):(this.Vmonto=!1,this.usuarioForm.patchValue({c_Nombre_Completo:n.response.c_Nombre_Completo,c_Nombre_Sucursal:n.response.c_Sucursal,c_Url_Img:n.response.c_Url_Img,c_Usuario_Creacion:n.response.c_Usuario_Creacion,c_Usuario_Modificacion:n.response.c_Usuario_Modificacion,c_Fecha_Creacion:n.response.c_Fecha_Creacion,c_Fecha_Modificacion:n.response.c_Fecha_Modificacion,c_Tipo_Cuenta:"1"==n.response.c_Id_Tipo?"Debito":"Credito",c_Estado_Cuenta:"1"==n.response.c_Id_Estado?"Activa":"Inactiva",c_Saldo:n.response.c_Saldo,c_Monto_Maximo:n.response.c_Monto_Maximo}),this.selectedImageURL=n.response.c_Url_Img),this.cdr.detectChanges()},n=>{console.error("Error fetching employee data:",n)}):this.selectedImageURL="https://img.srvcentral.com/Sistema/ImagenPorDefecto/Registro.png"})}IniciarTransferencia(){}openConfirmDialog(){this.dialog.open(l.$,{height:"15rem",width:"25rem"}).afterClosed().subscribe(n=>{n&&this.onSubmit()})}ngOnInit(){const r=localStorage.getItem("token"),n=(0,p.Z)(r),f=n.IdSucursal;this.Id_Usuario=n.IdUsuario,this.Id_Sucursal=f}onToggleChange(r){r.checked?(this.toggleChecked=!0,this.btntext="Deposito",this.c_Tipo_Mov=1):r.checked||(this.toggleChecked=!1,this.btntext="Retiro",this.c_Tipo_Mov=2)}onSubmit(){}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(a.QS),t.Y36(h.F),t.Y36(i.x),t.Y36(g.F0),t.Y36(e.ux),t.Y36(t.sBO),t.Y36(M.uw),t.Y36(J))};static#o=this.\u0275cmp=t.Xpm({type:s,selectors:[["vex-form-elements"]],decls:70,vars:20,consts:[["current","Form Elements"],[1,"flex-auto",3,"crumbs"],["color","primary","mat-icon-button","","type","button",1,"ml-2"],["svgIcon","mat:more_vert"],[1,"p-gutter","container"],[1,"flex","flex-col","sm:flex-row","gap-4",3,"formGroup"],[1,"card","flex-auto"],[1,"px-6","py-4","borde","r-b","flex","items-center"],[1,"title","m-0"],[1,"px-6","py-4","flex","flex-col"],[1,"image-upload-container"],[1,"selected-image-container"],[1,"selected-image-wrapper"],["alt","Imagen seleccionada",3,"src"],[1,"flex","flex-col","sm:flex-row","sm:gap-5"],[1,"flex-auto"],["formControlName","c_Id_Cuenta","matInput","","required",""],["matSuffix","","svgIcon","mat:person_pin"],[4,"ngIf"],["formControlName","c_Tipo_Cuenta","matInput","",3,"readonly"],["matSuffix","","svgIcon","mat:person"],["formControlName","c_Estado_Cuenta","matInput","",3,"readonly"],["formControlName","c_Saldo","matInput","",3,"readonly"],["formControlName","c_Monto_Maximo","matInput","",3,"readonly"],[1,"flex","flex-col","sm:flex-row","sm:gap-4"],["formControlName","c_Nombre_Completo","matInput","",3,"readonly"],["formControlName","c_Nombre_Sucursal","matInput","",3,"readonly"],["formControlName","c_Monto","matInput","","required","",3,"readonly"],["matPrefix","","svgIcon","mat:smartphone",1,"mr-2"],[2,"margin-left","1.3rem"],["for","gridViewToggle",2,"margin-right","0.5rem"],["id","gridViewToggle","color","primary",3,"checked","disabled","change"],[1,"flex","items-center","justify-end","gap-2"],["mat-button","","type","button"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"]],template:function(n,c){1&n&&(t.TgZ(0,"vex-secondary-toolbar",0),t._UZ(1,"vex-breadcrumbs",1),t.TgZ(2,"button",2),t._UZ(3,"mat-icon",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),t._uU(9,"Depositos y Retiros"),t.qZA()(),t.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),t._UZ(14,"img",13),t.qZA()()()(),t.TgZ(15,"div",9)(16,"div",14)(17,"mat-form-field",15)(18,"mat-label"),t._uU(19,"Numero de Cuenta"),t.qZA(),t._UZ(20,"input",16)(21,"mat-icon",17),t.YNc(22,N,2,0,"mat-error",18),t.qZA(),t.TgZ(23,"mat-form-field",15)(24,"mat-label"),t._uU(25,"Tipo de Cuenta "),t.qZA(),t._UZ(26,"input",19)(27,"mat-icon",20),t.qZA(),t.TgZ(28,"mat-form-field",15)(29,"mat-label"),t._uU(30,"Estado"),t.qZA(),t._UZ(31,"input",21)(32,"mat-icon",20),t.qZA(),t.TgZ(33,"mat-form-field",15)(34,"mat-label"),t._uU(35,"Saldo "),t.qZA(),t._UZ(36,"input",22)(37,"mat-icon",20),t.qZA(),t.TgZ(38,"mat-form-field",15)(39,"mat-label"),t._uU(40,"Monto Maximo Permitido "),t.qZA(),t._UZ(41,"input",23)(42,"mat-icon",20),t.qZA()(),t.TgZ(43,"div",24)(44,"mat-form-field",15)(45,"mat-label"),t._uU(46,"Nombre"),t.qZA(),t._UZ(47,"input",25)(48,"mat-icon",20),t.qZA(),t.TgZ(49,"mat-form-field",15)(50,"mat-label"),t._uU(51,"Sucursal de Registro"),t.qZA(),t._UZ(52,"input",26)(53,"mat-icon",20),t.qZA()(),t.TgZ(54,"div",24)(55,"mat-form-field")(56,"mat-label"),t._uU(57,"Monto"),t.qZA(),t._UZ(58,"input",27)(59,"mat-icon",28),t.YNc(60,Q,2,0,"mat-error",18),t.qZA(),t.TgZ(61,"div",29)(62,"label",30),t._uU(63),t.qZA(),t.TgZ(64,"mat-slide-toggle",31),t.NdJ("change",function(b){return c.onToggleChange(b)}),t.qZA()()(),t.TgZ(65,"div",32)(66,"button",33),t._uU(67,"Cancelar"),t.qZA(),t.TgZ(68,"button",34),t.NdJ("click",function(){return c.Transferencia()}),t._uU(69),t.qZA()()()()()()),2&n&&(t.xp6(1),t.Q6J("crumbs",t.DdM(19,$)),t.xp6(3),t.Q6J("@stagger",!0),t.xp6(1),t.Q6J("formGroup",c.usuarioForm),t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(8),t.Q6J("src",c.selectedImageURL,t.LSH),t.xp6(8),t.Q6J("ngIf",c.usuarioForm.get("c_Id_Cuenta").hasError("required")),t.xp6(4),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(6),t.Q6J("readonly",!0),t.xp6(5),t.Q6J("readonly",!0),t.xp6(6),t.Q6J("readonly",c.Vmonto),t.xp6(2),t.Q6J("ngIf",c.usuarioForm.get("c_Monto").hasError("required")),t.xp6(3),t.Oqu(c.buttonText),t.xp6(1),t.Q6J("checked",c.toggleChecked)("disabled",!0),t.xp6(4),t.Q6J("disabled",0==c.Vformulario),t.xp6(1),t.Oqu(c.btntext))},dependencies:[d.O5,F.Nt,I.KE,I.hX,I.TO,I.qo,I.R9,B.Hw,U.lW,U.RK,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u,D.Rr,R.n,k.n],styles:['@charset "UTF-8";.card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 12px #0000001a;background-color:#fff}.form-fields-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px}.success-snackbar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.error-snackbar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.image-upload-container[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black;position:relative;display:flex;flex-direction:column;align-items:center;text-align:center}.image-upload-container[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]{width:100%;flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden}.image-upload-container[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]   .selected-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{cursor:pointer;background-color:#f0f0f0;border:1px solid #ccc;padding:5px 10px;border-radius:5px;transition:background-color .3s ease}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}'],data:{animation:[u.Nu,x.$]},changeDetection:0})}return s})()}];let W=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(K),g.Bz,m.d8]})}return s})();var j=o(98525),z=o(38034),Y=o(23680),V=o(24630),X=o(92202),G=o(75986),H=o(87466),q=o(13680),w=o(20021);let tt=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[d.ez,W,F.c,B.Ps,U.ot,a.u5,j.LD,z.FA,Y.XK,a.UX,V.Bb,X.KP,G.p9,H.Fk,D.rP,q.K,w.J,e.ZX]})}return s})()}}]);