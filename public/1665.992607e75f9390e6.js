"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[1665],{3951:(O,I,t)=>{t.d(I,{$:()=>h});var _=t(6825);const h=function a(d){return(0,_.X$)("fadeInUp",[(0,_.eR)(":enter",[(0,_.oB)({transform:"translateY(20px)",opacity:0}),(0,_.jt)(`${d}ms cubic-bezier(0.35, 0, 0.25, 1)`,(0,_.oB)({transform:"translateY(0)",opacity:1}))])])}(400)},6820:(O,I,t)=>{t.d(I,{KF:()=>e,Nu:()=>d,v$:()=>f,xg:()=>h});var _=t(6825);function a(p){return(0,_.X$)("stagger",[(0,_.eR)("* => *",[(0,_.IO)(":enter",(0,_.EY)(p,(0,_.pV)()),{optional:!0})])])}const h=a(80),d=a(60),e=a(40),f=a(20)},4373:(O,I,t)=>{t.d(I,{n:()=>u});var _=t(7637),a=t(5879),h=t(6814),d=t(9522),e=t(617);const f=["*"];let p=(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(C){return new(C||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["vex-breadcrumb"]],hostAttrs:[1,"vex-breadcrumb","body-2","text-hint","leading-none","hover:text-primary","no-underline","trans-ease-out","ltr:mr-2","rtl:ml-2"],ngContentSelectors:f,decls:1,vars:0,template:function(C,T){1&C&&(a.F$t(),a.Hsn(0))},encapsulation:2}),l})();const g=function(){return[]};function s(l,r){if(1&l&&(a.ynx(0),a._UZ(1,"div",4),a.TgZ(2,"vex-breadcrumb")(3,"a",1),a._uU(4),a.qZA()(),a.BQk()),2&l){const C=r.$implicit;a.xp6(3),a.Q6J("routerLink",a.DdM(2,g)),a.xp6(1),a.Oqu(C)}}const n=function(){return["/"]};let u=(()=>{class l{constructor(){this.crumbs=[],this.trackByValue=_.g6}ngOnInit(){}}return l.\u0275fac=function(C){return new(C||l)},l.\u0275cmp=a.Xpm({type:l,selectors:[["vex-breadcrumbs"]],inputs:{crumbs:"crumbs"},decls:5,vars:4,consts:[[1,"flex","items-center"],[3,"routerLink"],["svgIcon","mat:home",1,"icon-sm"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-1","h-1","bg-gray","rounded-full","ltr:mr-2","rtl:ml-2"]],template:function(C,T){1&C&&(a.TgZ(0,"div",0)(1,"vex-breadcrumb")(2,"a",1),a._UZ(3,"mat-icon",2),a.qZA()(),a.YNc(4,s,5,3,"ng-container",3),a.qZA()),2&C&&(a.xp6(2),a.Q6J("routerLink",a.DdM(3,n)),a.xp6(2),a.Q6J("ngForOf",T.crumbs)("ngForTrackBy",T.trackByValue))},dependencies:[h.sg,d.rH,e.Hw,p],encapsulation:2}),l})()},21:(O,I,t)=>{t.d(I,{J:()=>e});var _=t(6814),a=t(9522),h=t(617),d=t(5879);let e=(()=>{class f{}return f.\u0275fac=function(g){return new(g||f)},f.\u0275mod=d.oAB({type:f}),f.\u0275inj=d.cJS({imports:[_.ez,a.Bz,h.Ps]}),f})()},346:(O,I,t)=>{t.d(I,{K:()=>p});var _=t(6814),a=t(9522),h=t(2296),d=t(617),e=t(21),f=t(5879);let p=(()=>{class g{}return g.\u0275fac=function(n){return new(n||g)},g.\u0275mod=f.oAB({type:g}),g.\u0275inj=f.cJS({imports:[_.ez,a.Bz,h.ot,d.Ps,e.J]}),g})()},5896:(O,I,t)=>{t.d(I,{F:()=>f});var _=t(6306),a=t(553),h=t(7398),d=t(5879),e=t(9862);let f=(()=>{class p{constructor(s){this.http=s,this._url=`${a.N.API_URL}/Catalogo/`}getDepartamentos(s){return this.http.get(`${this._url}getDepartamento`,{}).pipe((0,h.U)(n=>n.ok&&Array.isArray(n.response)?n.response.map(u=>({name:u.c_Nombre,Id:u.c_Id_Depto,flag:u.c_Url_IMG})):n.response.map(u=>({name:u.c_Transaccion_Mensaje,Id:u.c_Transaccion_Estado,flag:""}))),(0,_.K)(n=>(console.error(n),[])))}getMunicipioXDepartamentos(s,n){return this.http.get(`${this._url}getMunicipioXDepartamento`,{params:{IdDepartamento:s.toString(),searchTerm:n}}).pipe((0,h.U)(u=>u.ok&&Array.isArray(u.response)?u.response.map(l=>({name:l.c_Nombre,Id:l.c_Id_Municipio,flag:l.c_Url_IMG})):u.response.map(l=>({name:l.c_Transaccion_Mensaje,Id:l.c_Transaccion_Estado,flag:""}))),(0,_.K)(u=>(console.error(u),[])))}getRolPersona(s){return this.http.get(`${this._url}getRolPersona`,{params:{searchTerm:s}})}getRolUsuario(s){return this.http.get(`${this._url}getRolUsuario`,{params:{searchTerm:s}})}getGenero(s){return this.http.get(`${this._url}getGenero`,{params:{searchTerm:s}})}getTipoCuenta(s){return this.http.get(`${this._url}getTipoCuenta`,{params:{searchTerm:s}})}getSucursal(s){return this.http.get(`${this._url}getSucursal`,{}).pipe((0,h.U)(n=>n.ok&&Array.isArray(n.response)?(console.log(n.response),n.response.map(u=>({name:u.c_Nombre,Id:u.c_Id_Sucursal,flag:u.c_Url_Img}))):n.response.map(u=>({name:u.c_Transaccion_Mensaje,Id:u.c_Transaccion_Estado,flag:""}))),(0,_.K)(n=>(console.error(n),[])))}}return p.\u0275fac=function(s){return new(s||p)(d.LFG(e.eN))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},5250:(O,I,t)=>{t.d(I,{x:()=>f});var _=t(9862),a=t(553),h=t(8504),d=t(6306),e=t(5879);let f=(()=>{class p{constructor(s){this.http=s,this._url=`${a.N.API_URL}/Persona/`}setEmpleado(s,n,u,l,r,C,T,D,x,U,P,F,N,M,Z,y,S,q,J,z,k,E,R){const b={c_Id_Usuario:s,c_ID_ROL:n.map(Q=>Q.toString()),c_ID_Rol_Persona:u,c_Id_Tipo_Cuenta:l,c_Id_Sucursal:r,c_Id_Genero:C,c_Id_Municipio:T,c_Primer_Nombre:D,c_Segundo_Nombre:x,c_Tercer_Nombre:U,c_Primer_Apellido:P,c_Segundo_Apellido:F,c_Apellido_Casada:N,c_DPI:M,c_NIT:Z,c_Direccion:y,c_PNumero_Telefono:S,c_SNumero_Telefono:q,c_Correo:J,c_Img_Base:z,c_Descripcion:k,c_Fecha_Nacimiento:E,c_Usuario_Creacion:R};console.log(JSON.stringify(b));const B=new _.WM({"Content-Type":"application/json"});return this.http.post(this._url+"setEmpleadosA",JSON.stringify(b),{headers:B}).pipe((0,d.K)(Q=>(console.error(Q),(0,h._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}setPersona(s,n,u,l,r,C,T,D,x,U,P,F,N,M,Z,y,S,q,J,z,k){const E={c_ID_Rol_Persona:s,c_Id_Tipo_Cuenta:n,c_Id_Sucursal:u,c_Id_Genero:l,c_Id_Municipio:r,c_Primer_Nombre:C,c_Segundo_Nombre:T,c_Tercer_Nombre:D,c_Primer_Apellido:x,c_Segundo_Apellido:U,c_Apellido_Casada:P,c_DPI:F,c_NIT:N,c_Direccion:M,c_PNumero_Telefono:Z,c_SNumero_Telefono:y,c_Correo:S,c_Img_Base:q,c_Descripcion:J,c_Fecha_Nacimiento:z,c_Usuario_Creacion:k};console.log(JSON.stringify(E));const R=new _.WM({"Content-Type":"application/json"});return this.http.post(this._url+"setPersona",JSON.stringify(E),{headers:R}).pipe((0,d.K)(L=>(console.error(L),(0,h._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}putActualizarPersona(s,n,u,l,r,C,T,D,x,U,P,F,N,M,Z,y,S,q,J,z,k){const E={c_Id_Persona:s,c_ID_Rol_Persona:n,c_Id_Sucursal:u,c_Id_Genero:l,c_Id_Municipio:r,c_Primer_Nombre:C,c_Segundo_Nombre:T,c_Tercer_Nombre:D,c_Primer_Apellido:x,c_Segundo_Apellido:U,c_Apellido_Casada:P,c_DPI:F,c_NIT:N,c_Direccion:M,c_PNumero_Telefono:Z,c_SNumero_Telefono:y,c_Correo:S,c_Img_Base:q,c_Descripcion:J,c_Fecha_Nacimiento:z,c_Usuario_Modificacion:k};console.log(JSON.stringify(E));const R=new _.WM({"Content-Type":"application/json"});return this.http.post(this._url+"putActualizarPersona",JSON.stringify(E),{headers:R}).pipe((0,d.K)(L=>(console.error(L),(0,h._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}CambiarEstadoPersona(s,n){const u=new _.WM({"Content-Type":"application/json"});return this.http.post(`${this._url}CambiarEstadoPersona?IdP=${s}&IdUM=${n}`,u)}putActualizarEmpleado(s,n,u,l,r,C,T,D,x,U,P,F,N,M,Z,y,S,q,J,z,k,E,R){const b={c_Id_Persona:s,c_Id_Usuario:n,c_ID_ROL:u.map(Q=>Q.toString()),c_ID_Rol_Persona:l,c_Id_Sucursal:r,c_Id_Genero:C,c_Id_Municipio:T,c_Primer_Nombre:D,c_Segundo_Nombre:x,c_Tercer_Nombre:U,c_Primer_Apellido:P,c_Segundo_Apellido:F,c_Apellido_Casada:N,c_DPI:M,c_NIT:Z,c_Direccion:y,c_PNumero_Telefono:S,c_SNumero_Telefono:q,c_Correo:J,c_Img_Base:z,c_Descripcion:k,c_Fecha_Nacimiento:E,c_Usuario_Modificacion:R};console.log(JSON.stringify(b));const B=new _.WM({"Content-Type":"application/json"});return this.http.post(this._url+"putActualizarEmpleadosA",JSON.stringify(b),{headers:B}).pipe((0,d.K)(Q=>(console.error(Q),(0,h._)({ok:!1,estado:"401",mensaje:"Sin Autorizacion"}))))}CambiarEstadoEmpleado(s,n,u){const l=new _.WM({"Content-Type":"application/json"});return this.http.post(`${this._url}CambiarEstadoEmpleado?IdP=${s}&IdU=${n}&IdUM=${u}`,l)}getEmpleadoActivo(s){return this.http.get(`${this._url}GetEmpleados`,{params:{searchTerm:s}})}getPersona(s){return this.http.get(`${this._url}GetPersona`,{params:{searchTerm:s}})}getEmpleadoById(s){return this.http.get(`${this._url}GetEmpleadoXIdUA?IdPersona=${s}`)}getPersonaById(s){return this.http.get(`${this._url}GetPersonaById?IdPersona=${s}`)}}return p.\u0275fac=function(s){return new(s||p)(e.LFG(_.eN))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1665:(O,I,t)=>{t.r(I),t.d(I,{FormActualizarUsuariosModule:()=>Jr});var _=t(6814),a=t(2939),h=t(9522),d=t(3594),e=t(6223),f=t(7921),p=t(7398),g=t(3951),s=t(6820),n=t(6726),u=t(9541),l=t(4005),r=t(5879),C=t(5896),T=t(5250),D=t(9347),x=t(4516),U=t(1043),P=t(617),F=t(2296),N=t(8525),M=t(3680),Z=t(8034),y=t(5001),S=t(4373);function q(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function J(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras y n\xfameros."),r.qZA())}function z(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Debe tener al menos 4 caracteres."),r.qZA())}function k(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"No debe exceder los 24 caracteres."),r.qZA())}function E(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._uU(1),r.qZA()),2&o){const c=m.$implicit;r.Q6J("value",c.c_Id_Rol_Persona),r.xp6(1),r.Oqu(c.c_Descripcion)}}function R(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function L(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._uU(1),r.qZA()),2&o){const c=m.$implicit;r.Q6J("value",c.c_Id_Rol),r.xp6(1),r.Oqu(c.c_Nombre)}}function b(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function B(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._uU(1),r.qZA()),2&o){const c=m.$implicit;r.Q6J("value",c.c_Id_Genero),r.xp6(1),r.Oqu(c.c_Descripcion)}}function Q(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function $(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._uU(1),r.qZA()),2&o){const c=m.$implicit;r.Q6J("value",c.c_Id_Tipo_Cuenta),r.xp6(1),r.Oqu(c.c_Descripcion)}}function K(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function V(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function H(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function rr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function or(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function er(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function tr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function ar(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function nr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function ir(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function sr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras."),r.qZA())}function mr(o,m){if(1&o&&(r.TgZ(0,"mat-form-field",18)(1,"mat-label"),r._uU(2,"Apellido de Casada"),r.qZA(),r._UZ(3,"input",54)(4,"mat-icon",29),r.YNc(5,sr,2,0,"mat-error",21),r.qZA()),2&o){const c=r.oxw();r.xp6(5),r.Q6J("ngIf",c.usuarioForm.get("c_Apellido_Casada").hasError("pattern"))}}function cr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function ur(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten numeros."),r.qZA())}function lr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Debe tener 13 caracteres."),r.qZA())}function _r(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"No puede exceder de los 13 caracteres."),r.qZA())}function pr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten numeros."),r.qZA())}function dr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Debe tener 10 caracteres."),r.qZA())}function gr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"No puede exceder de los 10 caracteres."),r.qZA())}function fr(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._UZ(1,"img",55),r.TgZ(2,"span",56),r._uU(3),r.qZA()()),2&o){const c=m.$implicit;r.Q6J("value",c.Id),r.xp6(1),r.Q6J("src",c.flag,r.LSH),r.xp6(2),r.Oqu(c.name)}}function hr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function Ir(o,m){if(1&o&&(r.TgZ(0,"mat-option",53),r._UZ(1,"img",57),r.TgZ(2,"span",58),r._uU(3),r.qZA()()),2&o){const c=m.$implicit;r.Q6J("value",c.Id),r.xp6(1),r.Q6J("src",c.flag,r.LSH),r.xp6(2),r.Oqu(c.name)}}function Cr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function Ar(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function Tr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten letras, numeros, guiones y comas."),r.qZA())}function Ur(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function Zr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}function vr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten numeros."),r.qZA())}function Fr(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Solo se permiten numeros."),r.qZA())}function Er(o,m){1&o&&(r.TgZ(0,"mat-error"),r._uU(1,"Este campo es requerido."),r.qZA())}const br=function(){return["Forms","Form Elements"]},xr=[{path:"",component:(()=>{class o{constructor(c,i,v,Y,A,W,j,X,w){this.cd=c,this.ngZone=i,this.fb=v,this.catalogoService=Y,this.crearUsuariosService=A,this.router=W,this.snackBar=j,this.cdr=X,this.dialog=w,this.departamentos=[],this.imagen="",this.Id_Usuario="",this.Id_Sucursal="",this.inputType="password",this.visible=!1,this.showConfirmDialog=!1,this.selectedImage=null,this.selectedImageURL="https://img.srvcentral.com/Sistema/ImagenPorDefecto/Registro.png",this.DeptoCtrl=new e.NI,this.MunCtrl=new e.NI}openConfirmDialog(){this.dialog.open(l.$,{height:"15rem",width:"25rem"}).afterClosed().subscribe(i=>{i&&this.onSubmit()})}ngOnInit(){this.usuarioForm=this.fb.group({c_Id_Usuario:["",e.kI.compose([e.kI.required,e.kI.pattern(/^[a-zA-Z0-9]*$/),e.kI.minLength(4),e.kI.maxLength(24)])],c_ID_Rol_Persona:[,e.kI.required],c_ID_ROL:[[],e.kI.required],c_Tipo_Cuenta:[,e.kI.required],c_Id_Sucursal:[,e.kI.required],c_Id_Genero:[,e.kI.required],c_Id_Departamento:[,e.kI.required],c_Id_Municipio:[,e.kI.required],c_Primer_Nombre:["",e.kI.compose([e.kI.required,e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Segundo_Nombre:["",e.kI.compose([e.kI.required,e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Tercer_Nombre:["",e.kI.compose([e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Primer_Apellido:["",e.kI.compose([e.kI.required,e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Segundo_Apellido:["",e.kI.compose([e.kI.required,e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_Apellido_Casada:["",e.kI.compose([e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc]*$/)])],c_DPI:["",e.kI.compose([e.kI.required,e.kI.minLength(13),e.kI.maxLength(13)])],c_NIT:["",e.kI.compose([e.kI.minLength(10),e.kI.maxLength(10),e.kI.pattern(/^[0-9]*$/)])],c_Direccion:["",e.kI.compose([e.kI.required,e.kI.minLength(1),e.kI.pattern(/^[a-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xfc\xdc\s\d,-]*$/)])],c_PNumero_Telefono:["",e.kI.compose([e.kI.required,e.kI.minLength(8),e.kI.maxLength(8),e.kI.pattern(/^[0-9]*$/)])],c_SNumero_Telefono:["",e.kI.compose([e.kI.required,e.kI.minLength(8),e.kI.maxLength(8),e.kI.pattern(/^[0-9]*$/)])],c_Correo:["",[e.kI.required,e.kI.email]],c_Img_Base:["0"],c_Fecha_Nacimiento:["",e.kI.required],c_Usuario_Creacion:[""]}),this.filteredDepartamento$=this.DeptoCtrl.valueChanges.pipe((0,f.O)(""),(0,u.w)(A=>this.catalogoService.getDepartamentos(A)),(0,p.U)(A=>A.slice())),this.usuarioForm.get("c_Id_Departamento").valueChanges.subscribe(A=>{this.filteredMunicipio$=this.catalogoService.getMunicipioXDepartamentos(A,"zacapa")}),this.catalogoService.getRolPersona("").subscribe(A=>{this.roles=A.response}),this.catalogoService.getRolUsuario("").subscribe(A=>{this.rols=A.response}),this.catalogoService.getGenero("").subscribe(A=>{this.generos=A.response}),this.catalogoService.getTipoCuenta("").subscribe(A=>{this.TipoCuenta=A.response});const c=localStorage.getItem("token"),i=(0,n.Z)(c),Y=i.IdSucursal;this.Id_Usuario=i.IdUsuario,this.Id_Sucursal=Y,this.ngZone.run(()=>{this.usuarioForm.get("c_Usuario_Creacion")?.setValue(this.Id_Usuario),this.usuarioForm.get("c_Id_Sucursal")?.setValue(this.Id_Sucursal);const W=this.usuarioForm.get("c_ID_ROL").value.map(j=>j.toString());this.usuarioForm.get("c_ID_ROL")?.patchValue(W)})}onFileSelected(c){const i=c.target;i?.files?.length&&(this.selectedImage=i.files[0],this.loadImage())}loadImage(){if(this.selectedImage){const c=new FileReader;c.onload=()=>{this.ngZone.run(()=>{this.selectedImageURL=c.result;const v=this.selectedImageURL.split(",");this.imagen=v[1],this.ngZone.run(()=>{this.usuarioForm.get("c_Img_Base")?.setValue(this.imagen)}),this.cdr.detectChanges()})},c.readAsDataURL(this.selectedImage)}}onSubmit(){const c=this.usuarioForm.get("c_Id_Usuario").value,i=this.usuarioForm.get("c_ID_Rol_Persona").value,v=this.usuarioForm.get("c_ID_ROL").value,Y=this.usuarioForm.get("c_Tipo_Cuenta").value,A=this.usuarioForm.get("c_Id_Sucursal").value,W=this.usuarioForm.get("c_Id_Genero").value,j=this.usuarioForm.get("c_Id_Municipio").value,X=this.usuarioForm.get("c_Primer_Nombre").value,w=this.usuarioForm.get("c_Segundo_Nombre").value,zr=this.usuarioForm.get("c_Tercer_Nombre").value,kr=this.usuarioForm.get("c_Primer_Apellido").value,Rr=this.usuarioForm.get("c_Segundo_Apellido").value,Lr=this.usuarioForm.get("c_Apellido_Casada").value,Br=this.usuarioForm.get("c_DPI").value,Qr=this.usuarioForm.get("c_NIT").value,Yr=this.usuarioForm.get("c_Direccion").value,$r=this.usuarioForm.get("c_PNumero_Telefono").value,Kr=this.usuarioForm.get("c_SNumero_Telefono").value,Wr=this.usuarioForm.get("c_Correo").value,jr=this.usuarioForm.get("c_Img_Base").value,Xr=this.usuarioForm.get("c_Fecha_Nacimiento").value,wr=this.usuarioForm.get("c_Usuario_Creacion").value;this.crearUsuariosService.setEmpleado(c,v,i,Y,A,W,j,X,w,zr,kr,Rr,Lr,Br,Qr,Yr,$r,Kr,Wr,jr,"",Xr,wr).subscribe(G=>{G.ok?this.snackBar.open(G.transaccion_Mensaje,"Cerrar",{duration:5e3,panelClass:["success-snackbar"]}):this.snackBar.open(`Error: ${G.transaccion_Estado} ${G.transaccion_Mensaje}`,"Cerrar",{duration:1e4,panelClass:["error-snackbar"]})},G=>{this.snackBar.open("Error Inesperado","Cerrar",{duration:15e3,panelClass:["error-snackbar"]})})}}return o.\u0275fac=function(c){return new(c||o)(r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(e.QS),r.Y36(C.F),r.Y36(T.x),r.Y36(h.F0),r.Y36(a.ux),r.Y36(r.sBO),r.Y36(D.uw))},o.\u0275cmp=r.Xpm({type:o,selectors:[["vex-form-elements"]],decls:164,vars:53,consts:[["current","Form Elements"],[1,"flex-auto",3,"crumbs"],["color","primary","mat-icon-button","","type","button",1,"ml-2"],["svgIcon","mat:more_vert"],[1,"p-gutter","container"],[1,"flex","flex-col","sm:flex-row","gap-4",3,"formGroup"],[1,"card","flex-auto"],[1,"px-6","py-4","borde","r-b","flex","items-center"],[1,"title","m-0"],[1,"px-6","py-4","flex","flex-col"],[1,"image-upload-container"],[1,"selected-image-container"],[1,"selected-image-wrapper"],["alt","Imagen seleccionada",3,"src"],[1,"button-container"],["for","image-upload",1,"custom-file-upload"],["id","image-upload","type","file","accept","image/*",3,"change"],[1,"flex","flex-col","sm:flex-row","sm:gap-5"],[1,"flex-auto"],["formControlName","c_Id_Usuario","matInput",""],["matSuffix","","svgIcon","mat:person_pin"],[4,"ngIf"],["formControlName","c_ID_Rol_Persona"],[3,"value",4,"ngFor","ngForOf"],["formControlName","c_ID_ROL","multiple",""],["formControlName","c_Id_Genero"],["formControlName","c_Tipo_Cuenta"],[1,"flex","flex-col","sm:flex-row","sm:gap-4"],["formControlName","c_Primer_Nombre","matInput","","required",""],["matSuffix","","svgIcon","mat:person"],["formControlName","c_Segundo_Nombre","matInput","","required",""],["formControlName","c_Tercer_Nombre","matInput",""],["formControlName","c_Primer_Apellido","matInput","","required",""],["formControlName","c_Segundo_Apellido","matInput","","required",""],["class","flex-auto",4,"ngIf"],["formControlName","c_DPI","matInput","","required",""],["formControlName","c_NIT","matInput",""],["formControlName","c_Id_Departamento","placeholder","Departamento"],["formControlName","c_Id_Municipio","placeholder","Municipio"],["formControlName","c_Direccion","matInput","","required",""],["matSuffix","","svgIcon","mat:location_on"],["formControlName","c_Correo","matInput","","required",""],["matSuffix","","svgIcon","mat:email"],["formControlName","c_PNumero_Telefono","matInput","","required",""],["matPrefix","","svgIcon","mat:smartphone",1,"mr-2"],["formControlName","c_SNumero_Telefono","matInput",""],[1,"form-field-row"],["formControlName","c_Fecha_Nacimiento","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["datepickerRef",""],[1,"flex","items-center","justify-end","gap-2"],["mat-button","","type","button"],["color","primary","mat-raised-button","","type","button",3,"disabled","click"],[3,"value"],["formControlName","c_Apellido_Casada","matInput",""],["height","25",1,"align-middle","mr-4","shadow-lg",3,"src"],[1,"body-1"],[1,"align-middle","mr-4","shadow-lg",2,"width","12%",3,"src"],[1,"body-2"]],template:function(c,i){if(1&c&&(r.TgZ(0,"vex-secondary-toolbar",0),r._UZ(1,"vex-breadcrumbs",1),r.TgZ(2,"button",2),r._UZ(3,"mat-icon",3),r.qZA()(),r.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),r._uU(9,"Formulario para Registrar Empleados"),r.qZA()(),r.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),r._UZ(14,"img",13),r.qZA()(),r.TgZ(15,"div",14)(16,"label",15)(17,"span"),r._uU(18,"Subir Imagen"),r.qZA()(),r.TgZ(19,"input",16),r.NdJ("change",function(Y){return i.onFileSelected(Y)}),r.qZA()()()(),r.TgZ(20,"div",9)(21,"div",17)(22,"mat-form-field",18)(23,"mat-label"),r._uU(24,"Usuario"),r.qZA(),r._UZ(25,"input",19)(26,"mat-icon",20),r.YNc(27,q,2,0,"mat-error",21),r.YNc(28,J,2,0,"mat-error",21),r.YNc(29,z,2,0,"mat-error",21),r.YNc(30,k,2,0,"mat-error",21),r.qZA(),r.TgZ(31,"mat-form-field")(32,"mat-label"),r._uU(33,"Rol Empleado"),r.qZA(),r.TgZ(34,"mat-select",22),r.YNc(35,E,2,2,"mat-option",23),r.qZA(),r.YNc(36,R,2,0,"mat-error",21),r.qZA(),r.TgZ(37,"mat-form-field")(38,"mat-label"),r._uU(39,"Rol Sistema"),r.qZA(),r.TgZ(40,"mat-select",24),r.YNc(41,L,2,2,"mat-option",23),r.qZA(),r.YNc(42,b,2,0,"mat-error",21),r.qZA(),r.TgZ(43,"mat-form-field")(44,"mat-label"),r._uU(45,"Genero"),r.qZA(),r.TgZ(46,"mat-select",25),r.YNc(47,B,2,2,"mat-option",23),r.qZA(),r.YNc(48,Q,2,0,"mat-error",21),r.qZA(),r.TgZ(49,"mat-form-field")(50,"mat-label"),r._uU(51,"Tipo de Cuenta"),r.qZA(),r.TgZ(52,"mat-select",26),r.YNc(53,$,2,2,"mat-option",23),r.qZA(),r.YNc(54,K,2,0,"mat-error",21),r.qZA()(),r.TgZ(55,"div",27)(56,"mat-form-field",18)(57,"mat-label"),r._uU(58,"Primer Nombre"),r.qZA(),r._UZ(59,"input",28)(60,"mat-icon",29),r.YNc(61,V,2,0,"mat-error",21),r.YNc(62,H,2,0,"mat-error",21),r.qZA(),r.TgZ(63,"mat-form-field",18)(64,"mat-label"),r._uU(65,"Segundo Nombre"),r.qZA(),r._UZ(66,"input",30)(67,"mat-icon",29),r.YNc(68,rr,2,0,"mat-error",21),r.YNc(69,or,2,0,"mat-error",21),r.qZA(),r.TgZ(70,"mat-form-field",18)(71,"mat-label"),r._uU(72,"Tercer Nombre"),r.qZA(),r._UZ(73,"input",31)(74,"mat-icon",29),r.YNc(75,er,2,0,"mat-error",21),r.qZA()(),r.TgZ(76,"div",27)(77,"mat-form-field",18)(78,"mat-label"),r._uU(79,"Primer Apellido"),r.qZA(),r._UZ(80,"input",32)(81,"mat-icon",29),r.YNc(82,tr,2,0,"mat-error",21),r.YNc(83,ar,2,0,"mat-error",21),r.qZA(),r.TgZ(84,"mat-form-field",18)(85,"mat-label"),r._uU(86,"Segundo Apellido"),r.qZA(),r._UZ(87,"mat-icon",29)(88,"input",33),r.YNc(89,nr,2,0,"mat-error",21),r.YNc(90,ir,2,0,"mat-error",21),r.qZA(),r.YNc(91,mr,6,1,"mat-form-field",34),r.qZA(),r.TgZ(92,"div",27)(93,"mat-form-field",18)(94,"mat-label"),r._uU(95,"DPI"),r.qZA(),r._UZ(96,"input",35),r.YNc(97,cr,2,0,"mat-error",21),r.YNc(98,ur,2,0,"mat-error",21),r.YNc(99,lr,2,0,"mat-error",21),r.YNc(100,_r,2,0,"mat-error",21),r.qZA(),r.TgZ(101,"mat-form-field",18)(102,"mat-label"),r._uU(103,"NIT"),r.qZA(),r._UZ(104,"input",36),r.YNc(105,pr,2,0,"mat-error",21),r.YNc(106,dr,2,0,"mat-error",21),r.YNc(107,gr,2,0,"mat-error",21),r.qZA()(),r.TgZ(108,"div",27)(109,"mat-form-field")(110,"mat-label"),r._uU(111,"Departamento"),r.qZA(),r.TgZ(112,"mat-select",37),r.YNc(113,fr,4,3,"mat-option",23),r.ALo(114,"async"),r.qZA(),r.YNc(115,hr,2,0,"mat-error",21),r.qZA(),r.TgZ(116,"mat-form-field")(117,"mat-label"),r._uU(118,"Municipio"),r.qZA(),r.TgZ(119,"mat-select",38),r.YNc(120,Ir,4,3,"mat-option",23),r.ALo(121,"async"),r.qZA(),r.YNc(122,Cr,2,0,"mat-error",21),r.qZA()(),r.TgZ(123,"mat-form-field",18)(124,"mat-label"),r._uU(125,"Direccion"),r.qZA(),r._UZ(126,"input",39)(127,"mat-icon",40),r.YNc(128,Ar,2,0,"mat-error",21),r.YNc(129,Tr,2,0,"mat-error",21),r.qZA(),r.TgZ(130,"mat-form-field")(131,"mat-label"),r._uU(132,"Correo"),r.qZA(),r._UZ(133,"input",41)(134,"mat-icon",42),r.YNc(135,Ur,2,0,"mat-error",21),r.qZA(),r.TgZ(136,"div",27)(137,"mat-form-field",18)(138,"mat-label"),r._uU(139,"Numero de Telefono Principal"),r.qZA(),r._UZ(140,"input",43)(141,"mat-icon",44),r.YNc(142,Zr,2,0,"mat-error",21),r.YNc(143,vr,2,0,"mat-error",21),r.qZA(),r.TgZ(144,"mat-form-field",18)(145,"mat-label"),r._uU(146,"Numero de Telefono Secundario"),r.qZA(),r._UZ(147,"input",45)(148,"mat-icon",44),r.YNc(149,Fr,2,0,"mat-error",21),r.qZA()(),r.TgZ(150,"div",46)(151,"mat-form-field")(152,"mat-label"),r._uU(153,"Fecha de Nacimiento"),r.qZA(),r._UZ(154,"input",47)(155,"mat-datepicker-toggle",48)(156,"mat-datepicker",null,49),r.YNc(158,Er,2,0,"mat-error",21),r.qZA()(),r.TgZ(159,"div",50)(160,"button",51),r._uU(161,"Cancelar"),r.qZA(),r.TgZ(162,"button",52),r.NdJ("click",function(){return i.openConfirmDialog()}),r._uU(163,"Guardar"),r.qZA()()()()()()),2&c){const v=r.MAs(157);r.xp6(1),r.Q6J("crumbs",r.DdM(52,br)),r.xp6(3),r.Q6J("@stagger",!0),r.xp6(1),r.Q6J("formGroup",i.usuarioForm),r.xp6(1),r.Q6J("@fadeInUp",void 0),r.xp6(8),r.Q6J("src",i.selectedImageURL,r.LSH),r.xp6(13),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Usuario").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Usuario").hasError("pattern")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Usuario").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Usuario").hasError("maxlength")),r.xp6(5),r.Q6J("ngForOf",i.roles),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_ID_Rol_Persona").hasError("required")),r.xp6(5),r.Q6J("ngForOf",i.rols),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_ID_ROL").hasError("required")),r.xp6(5),r.Q6J("ngForOf",i.generos),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Genero").hasError("required")),r.xp6(5),r.Q6J("ngForOf",i.TipoCuenta),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Tipo_Cuenta").hasError("required")),r.xp6(7),r.Q6J("ngIf",i.usuarioForm.get("c_Primer_Nombre").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Primer_Nombre").hasError("pattern")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_Segundo_Nombre").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Segundo_Nombre").hasError("pattern")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_Tercer_Nombre").hasError("pattern")),r.xp6(7),r.Q6J("ngIf",i.usuarioForm.get("c_Primer_Apellido").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Primer_Apellido").hasError("pattern")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_Segundo_Apellido").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Segundo_Apellido").hasError("pattern")),r.xp6(1),r.Q6J("ngIf",1===i.usuarioForm.get("c_Id_Genero").value),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_DPI").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_DPI").hasError("pattern")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_DPI").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_DPI").hasError("maxlength")),r.xp6(5),r.Q6J("ngIf",i.usuarioForm.get("c_NIT").hasError("pattern")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_NIT").hasError("minlength")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_NIT").hasError("maxlength")),r.xp6(6),r.Q6J("ngForOf",r.lcZ(114,48,i.filteredDepartamento$)),r.xp6(2),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Departamento").hasError("required")),r.xp6(5),r.Q6J("ngForOf",r.lcZ(121,50,i.filteredMunicipio$)),r.xp6(2),r.Q6J("ngIf",i.usuarioForm.get("c_Id_Municipio").hasError("required")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_Direccion").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_Direccion").hasError("pattern")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_Correo").hasError("required")),r.xp6(7),r.Q6J("ngIf",i.usuarioForm.get("c_PNumero_Telefono").hasError("required")),r.xp6(1),r.Q6J("ngIf",i.usuarioForm.get("c_PNumero_Telefono").hasError("pattern")),r.xp6(6),r.Q6J("ngIf",i.usuarioForm.get("c_SNumero_Telefono").hasError("pattern")),r.xp6(5),r.Q6J("matDatepicker",v),r.xp6(1),r.Q6J("for",v),r.xp6(3),r.Q6J("ngIf",i.usuarioForm.get("c_Fecha_Nacimiento").hasError("required")),r.xp6(4),r.Q6J("disabled",!i.usuarioForm.valid)}},dependencies:[_.sg,_.O5,x.Nt,U.KE,U.hX,U.TO,U.qo,U.R9,P.Hw,F.lW,F.RK,e.Fj,e.JJ,e.JL,e.Q7,N.gD,M.ey,Z.Mq,Z.hl,Z.nW,e.sg,e.u,y.n,S.n,_.Ov],styles:['@charset "UTF-8";.card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 12px #0000001a;background-color:#fff}.form-fields-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field-row[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:10px}.success-snackbar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.error-snackbar[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.image-upload-container[_ngcontent-%COMP%]{width:150px;height:auto;border:2px solid black;position:relative;display:flex;flex-direction:column;align-items:center;text-align:center}.image-upload-container[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]{width:100%;flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden}.image-upload-container[_ngcontent-%COMP%]   .selected-image-container[_ngcontent-%COMP%]   .selected-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{cursor:pointer;background-color:#f0f0f0;border:1px solid #ccc;padding:5px 10px;border-radius:5px;transition:background-color .3s ease}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.image-upload-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}'],data:{animation:[s.Nu,g.$]},changeDetection:0}),o})()}];let Pr=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[h.Bz.forChild(xr),h.Bz,d.d8]}),o})();var Nr=t(4630),Mr=t(2202),Or=t(5986),Dr=t(7466),yr=t(2599),Sr=t(346),qr=t(21);let Jr=(()=>{class o{}return o.\u0275fac=function(c){return new(c||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[_.ez,Pr,x.c,P.Ps,F.ot,e.u5,N.LD,Z.FA,M.XK,e.UX,Nr.Bb,Mr.KP,Or.p9,Dr.Fk,yr.rP,Sr.K,qr.J,a.ZX]}),o})()},4005:(O,I,t)=>{t.d(I,{$:()=>h});var _=t(9347),a=t(5879);let h=(()=>{class d{constructor(f,p){this.dialogRef=f,this.data=p}}return d.\u0275fac=function(f){return new(f||d)(a.Y36(_.so),a.Y36(_.WI))},d.\u0275cmp=a.Xpm({type:d,selectors:[["app-confirm-dialog"]],decls:8,vars:1,consts:[[1,"dialog-container",2,"margin-top","2rem"],[1,"dialog-title"],[1,"button-container","flex","justify-center","gap-4"],["mat-raised-button","","type","button",1,"btn","secondary",3,"click"],["mat-button","","type","button","color","primary",1,"btn","primary",3,"click"]],template:function(f,p){1&f&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2),a.qZA(),a.TgZ(3,"div",2)(4,"button",3),a.NdJ("click",function(){return p.dialogRef.close(!1)}),a._uU(5,"Cancelar"),a.qZA(),a.TgZ(6,"button",4),a.NdJ("click",function(){return p.dialogRef.close(!0)}),a._uU(7,"Aceptar"),a.qZA()()()),2&f&&(a.xp6(2),a.Oqu(p.data.title))},styles:[".dialog-container[_ngcontent-%COMP%]{text-align:center}.dialog-title[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:16px}.button-container[_ngcontent-%COMP%]{margin-top:24px}.mat-button[_ngcontent-%COMP%]{min-width:120px;border-radius:24px;font-weight:500;text-transform:uppercase;font-size:.875rem}.mat-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.btn[_ngcontent-%COMP%]{border:none;color:#fff;padding:14px 28px;cursor:pointer;border-radius:25px}.primary[_ngcontent-%COMP%]{background-color:#007bff}.primary[_ngcontent-%COMP%]:hover{background:#0b7dda}.secondary[_ngcontent-%COMP%]{background-color:#e7e7e7;color:#000}.secondary[_ngcontent-%COMP%]:hover{background:#ddd}"]}),d})()},6726:(O,I,t)=>{function _(p){this.message=p}t.d(I,{Z:()=>f}),(_.prototype=new Error).name="InvalidCharacterError";var a=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(p){var g=String(p).replace(/=+$/,"");if(g.length%4==1)throw new _("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,n,u=0,l=0,r="";n=g.charAt(l++);~n&&(s=u%4?64*s+n:n,u++%4)?r+=String.fromCharCode(255&s>>(-2*u&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return r};function d(p){this.message=p}(d.prototype=new Error).name="InvalidTokenError";const f=function e(p,g){if("string"!=typeof p)throw new d("Invalid token specified");var s=!0===(g=g||{}).header?0:1;try{return JSON.parse(function h(p){var g=p.replace(/-/g,"+").replace(/_/g,"/");switch(g.length%4){case 0:break;case 2:g+="==";break;case 3:g+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(a(g).replace(/(.)/g,function(n,u){var l=u.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}catch{return a(g)}}(p.split(".")[s]))}catch(n){throw new d("Invalid token specified: "+n.message)}}}}]);