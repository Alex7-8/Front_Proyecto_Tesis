"use strict";(self.webpackChunkvex=self.webpackChunkvex||[]).push([[6517],{64876:(A,_,o)=>{o.d(_,{u:()=>g});var u=o(65879);let g=(()=>{class d{constructor(){this.VPersona=!1,this.validarFactura=!1,this.selectedImageURL="https://img.srvcentral.com/Sistema/ImagenPorDefecto/Registro.png"}RecibirFacturaCF(l,s){this.idSerie=l,this.idsl=s}RecibirFacturaCliente(l,s,f){this.idSerie=l,this.idsl=s,this.idPersona=f}RecibirBody(l){this.body=l}RecibirDatosFactura(l,s,f,h,x,t,v){this.idProducto=l,this.NombreProducto=s,this.Cantidad=f,this.Precio=h,this.SubTotal=x,this.IVA=t,this.Total=v}VerificarPersona(l){this.VPersona=l}static#t=this.\u0275fac=function(s){return new(s||d)};static#e=this.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},96517:(A,_,o)=>{o.r(_),o.d(_,{FacturaVentaTableModule:()=>_t});var u=o(96814),g=o(29522),d=o(33594),J=o(62008),l=o(95982),s=o(56223),f=o(83620),h=o(86820),x=o(65619),t=o(65879),v=o(19347),N=o(11333),Z=o(22939),Y=o(69162),U=o(17605),O=o(64876);let y=(()=>{class e{constructor(a,n,i,c,p,D,xt,vt,Ct,bt){this.dialog=a,this.ProductoService=n,this.snackBar=i,this.router=c,this.renderer=p,this.fb=D,this.ngZone=xt,this.FacturaService=vt,this.ReporteService=Ct,this.TranferenciaService=bt,this.tablaDataSubject=new x.X([]),this.tablaData$=this.tablaDataSubject.asObservable(),this.searchCtrl=new s.p4,this.RTotal="N/A",this.estado=this.ProductoService.estado,this.Color=["font-medium"],this.Servicio=[],this.menuOpen=!1,this.searchStr$=this.searchCtrl.valueChanges.pipe((0,f.b)(10)),this.activeCategory="Activo",this.tableData=this.Servicio,this.tableColumns=[{label:"No. de Factura",property:"c_Numero_Factura",type:"text",cssClasses:["font-medium"]},{label:"Codigo",property:"c_Codigo",type:"text",cssClasses:["font-medium"]},{label:"Nombre",property:"c_Nombre",type:"text",cssClasses:["font-medium"]},{label:"Cantidad",property:"c_Cantidad",type:"text",cssClasses:["font-medium"]},{label:"Precio",property:"c_Precio",type:"text",cssClasses:["font-medium"]},{label:"SubTotal",property:"c_SubTotal",type:"text",cssClasses:["font-medium"]},{label:"IVA",property:"c_IVA",type:"text",cssClasses:["font-medium"]},{label:"Total",property:"c_Total",type:"text",cssClasses:["font-medium"]},{label:"Fecha",property:"c_Fecha",type:"text",cssClasses:["font-medium,"]},{label:"Usuario",property:"c_Usuario",type:"text",cssClasses:["font-medium"]},{label:"Tipo",property:"c_Tipo",type:"text",cssClasses:["font-medium"]}]}ngOnInit(){this.obtenerTablaData()}setFilter(a){this.activeCategory=a}isActive(a){return this.activeCategory===a}obtenerTablaData(){this.ReporteService.getReporteFacturaByTipo("GT").subscribe(a=>{this.Servicio=a.response,this.tableData=this.Servicio,console.log(this.Servicio);const i=a.response.reduce((c,p)=>{const D=parseFloat(p.c_Total);return isNaN(D)?c:c+D},0).toFixed(2);this.RTotal=i})}setData(a){this.tableData=a,this.menuOpen=!1}openMenu(){this.menuOpen=!0}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(v.uw),t.Y36(N.U),t.Y36(Z.ux),t.Y36(g.F0),t.Y36(t.Qsj),t.Y36(s.QS),t.Y36(t.R0b),t.Y36(Y.N),t.Y36(U.j),t.Y36(O.u))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["vex-contacts-table"]],decls:21,vars:8,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"px-gutter","pt-6","pb-20","bg-primary/10","flex-none"],[1,"flex","items-center","container","px-8"],[1,"display-2","font-bold","m-0","flex","items-center","w-full","max-w-3xs","mr-6",2,"white-space","nowrap","margin-right","30rem"],[1,"display-1","font-bold","m-0","flex","items-center","w-full","max-w-3xs","mr-6",2,"margin-left","10px"],[1,"hidden","sm:flex","items-center","bg-foreground","rounded-full","overflow-hidden","relative","ltr:pl-5","rtl:pr-5","h-12","max-w-md","w-full","shadow-xl","mx-auto"],["svgIcon","mat:search",1,"text-secondary","flex-none"],["placeholder","Buscar...","type","text",1,"border-0","h-12","outline-none","ltr:pl-4","rtl:pr-4","placeholder:text-secondary","bg-foreground","flex-auto",3,"formControl"],[1,"flex","flex-col","overflow-hidden","sm:flex-row","sm:gap-4"],[1,"bg-transparent","flex-auto","flex"],["mode","over",3,"opened","openedChange"],[1,"sm:hidden"],[1,"p-gutter","pt-0","flex-auto","flex","items-start"],[1,"hidden","sm:block","ltr:mr-6","rtl:ml-6"],[3,"filterChange"],[1,"card","h-full","overflow-hidden","flex-auto"],[3,"columns","data","searchStr"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t._uU(4," Reporte Facturas Todo El Tiempo "),t.qZA(),t.TgZ(5,"div")(6,"h1",4),t._uU(7),t.qZA()(),t.TgZ(8,"div",5),t._UZ(9,"mat-icon",6)(10,"input",7),t.qZA()()(),t.TgZ(11,"div",8)(12,"mat-drawer-container",9)(13,"mat-drawer",10),t.NdJ("openedChange",function(p){return i.menuOpen=p}),t._UZ(14,"vex-contacts-table-menu",11),t.qZA(),t.TgZ(15,"mat-drawer-content",12)(16,"div",13)(17,"vex-contacts-table-menu",14),t.NdJ("filterChange",function(p){return i.setData(p)}),t.qZA()(),t.TgZ(18,"div",15),t._UZ(19,"vex-contacts-data-table",16),t.ALo(20,"async"),t.qZA()()()()()),2&n&&(t.xp6(7),t.hij("Total Q",i.RTotal,""),t.xp6(3),t.Q6J("formControl",i.searchCtrl),t.xp6(3),t.Q6J("opened",i.menuOpen),t.xp6(6),t.Q6J("columns",i.tableColumns)("data",i.tableData)("searchStr",t.lcZ(20,6,i.searchStr$)))},styles:['@charset "UTF-8";table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;text-align:left}.cell[_ngcontent-%COMP%]{cursor:pointer;padding:8px;background-color:#f2f2f2}.cell[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}',".mat-drawer-container[_ngcontent-%COMP%]{background:transparent!important}"],data:{animation:[h.KF,J.a,l.G]}})}return e})();const I=[{path:"",component:y,data:{scrollDisabled:!0,toolbarShadowEnabled:!0}}];let P=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(I),g.Bz,d.d8]})}return e})();var R=o(32296),m=o(25313),F=o(21476),C=o(13566),w=o(75986),S=o(30617),b=o(77988),Q=o(23680),$=o(95783),j=o(41043),M=o(83951),B=o(2852),z=o(80400);function H(e,r){if(1&e&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&e){const a=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",a.label,"")}}function V(e,r){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const a=r.$implicit,n=t.oxw(2).$implicit;t.Q6J("ngClass",n.cssClasses),t.xp6(1),t.Oqu(a[n.property])}}function G(e,r){if(1&e&&(t.ynx(0,15),t.YNc(1,H,2,1,"th",16),t.YNc(2,V,2,2,"td",17),t.BQk()),2&e){const a=t.oxw().$implicit;t.Q6J("matColumnDef",a.property)}}function k(e,r){if(1&e&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&e){const a=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",a.label,"")}}const X=function(e){return["text-x1",e]};function E(e,r){if(1&e&&(t.TgZ(0,"td",21)(1,"mat-checkbox",22),t.NdJ("click",function(n){return n.stopPropagation()}),t.qZA()()),2&e){const a=r.$implicit,n=t.oxw(2).$implicit;t.Q6J("ngClass",t.VKq(2,X,n.cssClasses)),t.xp6(1),t.Q6J("checked",a[n.property])}}function K(e,r){if(1&e&&(t.ynx(0,15),t.YNc(1,k,2,1,"th",16),t.YNc(2,E,2,4,"td",20),t.BQk()),2&e){const a=t.oxw().$implicit;t.Q6J("matColumnDef",a.property)}}function L(e,r){if(1&e&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&e){const a=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",a.label,"")}}function W(e,r){if(1&e&&(t.TgZ(0,"td",21),t._UZ(1,"img",24),t.qZA()),2&e){const a=r.$implicit,n=t.oxw(2).$implicit;t.Q6J("ngClass",n.cssClasses),t.xp6(1),t.Q6J("src",a[n.property],t.LSH)}}function q(e,r){if(1&e&&(t.ynx(0,23),t.YNc(1,L,2,1,"th",16),t.YNc(2,W,2,2,"td",20),t.BQk()),2&e){const a=t.oxw().$implicit;t.Q6J("matColumnDef",a.property)}}function tt(e,r){if(1&e&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&e){const a=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",a.label,"")}}function et(e,r){if(1&e&&t._UZ(0,"td",27),2&e){const a=t.oxw(3).$implicit;t.Q6J("ngClass",a.cssClasses)}}function at(e,r){1&e&&(t.ynx(0),t.YNc(1,tt,2,1,"th",16),t.YNc(2,et,1,1,"td",26),t.BQk())}function nt(e,r){if(1&e&&(t.TgZ(0,"th",18),t._uU(1),t.qZA()),2&e){const a=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",a.label,"")}}function ot(e,r){if(1&e&&(t.TgZ(0,"td",27)(1,"button",28),t.NdJ("click",function(n){return n.stopPropagation()}),t._UZ(2,"mat-icon",29),t.qZA()()),2&e){const a=t.oxw(3).$implicit;t.oxw();const n=t.MAs(9);t.Q6J("ngClass",a.cssClasses),t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function it(e,r){1&e&&(t.ynx(0),t.YNc(1,nt,2,1,"th",16),t.YNc(2,ot,3,2,"td",26),t.BQk())}function rt(e,r){if(1&e&&(t.ynx(0,15),t.YNc(1,at,3,0,"ng-container",25),t.YNc(2,it,3,0,"ng-container",25),t.BQk()),2&e){const a=t.oxw().$implicit;t.Q6J("matColumnDef",a.property),t.xp6(1),t.Q6J("ngIf","starred"===a.property),t.xp6(1),t.Q6J("ngIf","menu"===a.property)}}function ct(e,r){if(1&e&&(t.ynx(0),t.YNc(1,G,3,1,"ng-container",13),t.YNc(2,K,3,1,"ng-container",13),t.YNc(3,q,3,1,"ng-container",14),t.YNc(4,rt,3,3,"ng-container",13),t.BQk()),2&e){const a=r.$implicit;t.xp6(1),t.Q6J("ngIf","text"===a.type),t.xp6(1),t.Q6J("ngIf","checkbox"===a.type),t.xp6(1),t.Q6J("ngIf","image"===a.type),t.xp6(1),t.Q6J("ngIf","button"===a.type)}}function st(e,r){1&e&&t._UZ(0,"tr",30)}function lt(e,r){if(1&e){const a=t.EpF();t.TgZ(0,"tr",31),t.NdJ("click",function(){const c=t.CHM(a).$implicit,p=t.oxw();return t.KtG(p.openContact.emit(c.c_Numero_Factura))}),t.qZA()}2&e&&t.Q6J("@fadeInUp",void 0)}function mt(e,r){1&e&&(t.TgZ(0,"div",32),t._UZ(1,"img",33),t.TgZ(2,"h2",34),t._uU(3,"No contacts matching your filters"),t.qZA()()),2&e&&t.Q6J("@scaleFadeIn",void 0)}let pt=(()=>{class e{constructor(){this.pageSize=15,this.pageSizeOptions=[15,20,50,100,150],this.toggleStar=new t.vpe,this.openContact=new t.vpe,this.dataSource=new m.by}ngOnInit(){}ngOnChanges(a){a.columns&&(this.visibleColumns=this.columns.map(n=>n.property)),a.data&&(this.dataSource.data=this.data),a.searchStr&&(this.dataSource.filter=(this.searchStr||"").trim().toLowerCase())}emitToggleStar(a,n){a.stopPropagation(),this.toggleStar.emit(n)}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["vex-contacts-data-table"]],viewQuery:function(n,i){if(1&n&&(t.Gf(F.NW,7),t.Gf(C.YE,7)),2&n){let c;t.iGM(c=t.CRH())&&(i.paginator=c.first),t.iGM(c=t.CRH())&&(i.sort=c.first)}},inputs:{data:"data",columns:"columns",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",searchStr:"searchStr"},outputs:{toggleStar:"toggleStar",openContact:"openContact"},features:[t._Bn([{provide:j.o2,useValue:{appearance:"fill"}}]),t.TTD],decls:18,vars:11,consts:[[1,"h-full","relative"],[1,"flex","flex-col","justify-between"],["mat-table","","matSort","",1,"w-full","flex-auto",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","hover:bg-hover cursor-pointer","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","flex-auto flex flex-col items-center justify-center",4,"ngIf"],[1,"sticky","bottom-0","left-0","right-0","border-t","flex-none",3,"pageSize","pageSizeOptions"],["xPosition","before","yPosition","below"],["contactMenu","matMenu"],["mat-menu-item",""],["svgIcon","mat:edit"],["svgIcon","mat:delete_forever"],[3,"matColumnDef",4,"ngIf"],["class","flex flex-col sm:flex-row sm:gap-4",3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","truncate-text","mat-cell","",3,"ngClass",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"truncate-text",3,"ngClass"],["mat-cell","",3,"ngClass",4,"matCellDef"],["mat-cell","",3,"ngClass"],[3,"checked","click"],[1,"flex","flex-col","sm:flex-row","sm:gap-4",3,"matColumnDef"],[1,"avatar","h-18","w-18","align-middle","my-2",3,"src"],[4,"ngIf"],["class","w-10","mat-cell","",3,"ngClass",4,"matCellDef"],["mat-cell","",1,"w-10",3,"ngClass"],["mat-icon-button","","type","button",3,"matMenuTriggerFor","click"],["svgIcon","mat:more_vert"],["mat-header-row",""],["mat-row","",1,"hover:bg-hover","cursor-pointer",3,"click"],[1,"flex-auto","flex","flex-col","items-center","justify-center"],["src","assets/img/illustrations/idea.svg",1,"m-12","h-64"],[1,"headline","m-0","text-center"]],template:function(n,i){1&n&&(t.TgZ(0,"vex-scrollbar",0)(1,"div",1)(2,"table",2),t.YNc(3,ct,5,4,"ng-container",3),t.YNc(4,st,1,0,"tr",4),t.YNc(5,lt,1,1,"tr",5),t.qZA(),t.YNc(6,mt,4,1,"div",6),t._UZ(7,"mat-paginator",7),t.qZA()(),t.TgZ(8,"mat-menu",8,9)(10,"button",10),t._UZ(11,"mat-icon",11),t.TgZ(12,"span"),t._uU(13,"Edit Contact"),t.qZA()(),t.TgZ(14,"button",10),t._UZ(15,"mat-icon",12),t.TgZ(16,"span"),t._uU(17,"Delete Contact"),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("@stagger",i.dataSource.filteredData)("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.columns),t.xp6(1),t.Q6J("matHeaderRowDef",i.visibleColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.visibleColumns),t.xp6(1),t.Q6J("ngIf",0===i.dataSource.filteredData.length),t.xp6(1),t.ekj("hidden",0===i.dataSource.filteredData.length),t.Q6J("pageSize",i.pageSize)("pageSizeOptions",i.pageSizeOptions))},dependencies:[u.mk,u.sg,u.O5,R.RK,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,F.NW,C.YE,C.nU,w.oG,S.Hw,b.VK,b.OP,b.p6,z.x],data:{animation:[h.v$,M.$,B.f]}})}return e})();var ut=o(71996);let dt=(()=>{class e{constructor(a,n,i,c){this.CrearUsuariosService=a,this.em=n,this.router=i,this.renderer=c,this.Producto=[],this.items=[{type:"link",id:"Activo",icon:"mat:label",label:"Facturas Activas",classes:{icon:"text-green"}},{type:"link",id:"Inactivo",icon:"mat:label",label:"Facturas Inactivas",classes:{icon:"text-gray"}}],this.filterChange=new t.vpe,this.openAddNew=new t.vpe,this.activeCategory="all",this.tablaDataSubject=new x.X([]),this.tablaData$=this.tablaDataSubject.asObservable()}ngOnInit(){}setFilter(a){this.activeCategory=a}isActive(a){return this.activeCategory===a}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(ut.x),t.Y36(y),t.Y36(g.F0),t.Y36(t.Qsj))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["vex-contacts-table-menu"]],inputs:{items:"items"},outputs:{filterChange:"filterChange",openAddNew:"openAddNew"},decls:3,vars:1,consts:[[1,"max-w-3xs","w-full"],[1,"h-14","mb-6","flex","px-gutter","sm:px-0","flex","items-center"],[2,"margin-left","1.3rem"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1)(2,"div",2),t.qZA()),2&n&&t.Q6J("@stagger",void 0)},encapsulation:2,data:{animation:[l.G,h.KF]}})}return e})();var T=o(32651),gt=o(498),ft=o(98525),ht=o(82599);let _t=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#a=this.\u0275inj=t.cJS({imports:[u.ez,P,gt.ComponentsSlideToggleModule,R.ot,m.p0,F.TU,C.JX,w.p9,S.Ps,b.Tx,Q.si,v.Is,$.Y,s.UX,T.SJ,Z.ZX,ht.rP,Q.XK,ft.LD]})}return e})();t.B6R(y,[S.Hw,s.Fj,s.JJ,s.oH,T.jA,T.kh,T.LW,pt,dt],[u.Ov])}}]);